version: 1.0
runtime: python311
build:
  commands:
    build:
      - echo "Installing dependencies..."
      - pip install --upgrade pip
      - pip install streamlit pandas plotly requests boto3 python-jose[cryptography]
run:
  runtime-version: python311
  command: streamlit run src/web/app.py --server.port 8000 --server.address 0.0.0.0 --server.headless true
  network:
    port: 8000
    env: PORT
  env:
    - name: API_BASE_URL
      value: "https://6to1dnyqsd.execute-api.us-east-1.amazonaws.com/Stage"
    - name: STREAMLIT_SERVER_HEADLESS
      value: "true"
    - name: STREAMLIT_SERVER_PORT
      value: "8000"